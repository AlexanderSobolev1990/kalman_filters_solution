cmake_minimum_required(VERSION 3.7)
set(DOXYGEN_TARGET_NAME project_documentation)
get_filename_component(SOLUTION_DIR ${CMAKE_CURRENT_SOURCE_DIR}/../ ABSOLUTE) # Путь к корневой директории решения (solution)
set(DOXYGEN_INPUT_DIRECTORY # Откуда брать исходники для документации
#    ${SOLUTION_DIR}/program/3d_party
#    ${SOLUTION_DIR}/program/KalmanFiltersExample/src
    ${SOLUTION_DIR}/src/kalman_filters
)
set(DOXYGEN_OUTPUT_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}) # Куда положить сгенерированную документацию

set(DOXYGEN_IMAGE_PATH ${SOLUTION_DIR}/doc/pictures/)

set(DOXYGEN_DOXYFILE_ENCODING UTF-8)
set(DOXYGEN_OUTPUT_LANGUAGE RUSSIAN)
set(DOXYGEN_PROJECT_NAME "Нелинейные фильтры Калмана и их гибриды")
set(DOXYGEN_PROJECT_BRIEF "Программная документация")
set(DOXYGEN_EXTRACT_ALL YES) #NO) #
set(DOXYGEN_EXTRACT_PRIVATE YES) #NO) #
set(DOXYGEN_EXTRACT_STATIC YES) #NO) #
set(DOXYGEN_ENABLE_PREPROCESSING YES)
set(DOXYGEN_MACRO_EXPANSION YES)
set(DOXYGEN_EXPAND_ONLY_PREDEF YES)
set(DOXYGEN_GENERATE_HTML YES)
set(DOXYGEN_GENERATE_LEGEND YES)
#set(DOXYGEN_DOT_GRAPH_MAX_NODES 10)
set(DOXYGEN_DOT_GRAPH_DEPTH 2)
set(DOXYGEN_FULL_PATH_NAMES NO)

set(DOXYGEN_SOURCE_BROWSER NO)# YES)   # Включать исходники! *.cpp
set(DOXYGEN_SHOW_FILES NO)

set(DOXYGEN_GENERATE_LATEX YES) # NO) #
set(DOXYGEN_USE_PDFLATEX YES)
set(DOXYGEN_PDF_HYPERLINKS YES) # NO) #
set(DOXYGEN_LATEX_SOURCE_CODE NO) # YES) #
set(DOXYGEN_LATEX_HIDE_INDICES)

set(DOXYGEN_GENERATE_TESTLIST YES)
set(DOXYGEN_GENERATE_TODOLIST YES)
#    set(DOXYGEN_CALL_GRAPH NO)
#    set(DOXYGEN_CALLER_GRAPH NO)
#    set(DOXYGEN_CLASS_DIAGRAMS NO)
#    set(DOXYGEN_CLASS_GRAPH NO)
#    set(DOXYGEN_COLLABORATION_GRAPH NO)
#    set(DOXYGEN_GROUP_GRAPHS NO)
#    set(DOXYGEN_INCLUDE_GRAPH NO)
#    set(DOXYGEN_INCLUDE_BY_GRAPH NO)
#    set(DOXYGEN_GRAPHICAL_HIERARCHY NO)
#    set(DOXYGEN_DIRECTORY_GRAPH NO)
#    set(DOXYGEN_HAVE_DOT NO)

set(DOXYGEN_GENERATE_TREEVIEW YES)
set(DOXYGEN_USE_MDFILE_AS_MAINPAGE "${SOLUTION_DIR}/README.md")
set(DOXYGEN_HTML_TIMESTAMP YES)
#set(DOXYGEN_LATEX_TIMESTAMP YES)

# Создадим файл настроек Doxygen
doxygen_add_docs(
    ${DOXYGEN_TARGET_NAME}
    ${SOLUTION_DIR}/README.md
    ${DOXYGEN_INPUT_DIRECTORY}
    ALL
    WORKING_DIRECTORY ${DOXYGEN_OUTPUT_DIRECTORY}
    COMMENT "Generating doxygen project documentation"
)
